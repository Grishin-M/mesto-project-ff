(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,o,n,c){var i=e.querySelector(".card").cloneNode(!0),r=i.querySelector(".card__image"),a=i.querySelector(".card__delete-button"),u=i.querySelector(".card__title"),l=i.querySelector(".card__like-button");return r.alt=t.name,u.textContent=t.name,r.src=t.link,a.addEventListener("click",o),l.addEventListener("click",n),r.addEventListener("click",c),i}function o(e){e.target.closest(".card").remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r),document.addEventListener("mousedown",a)}function i(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r),document.removeEventListener("mousedown",a)}function r(e){"Escape"===e.key&&i(document.querySelector(".popup_is-opened"))}function a(e){e.target.classList.contains("popup_is-opened")&&i(document.querySelector(".popup_is-opened"))}var u=document.querySelector(".places__list"),l=document.querySelector(".profile__edit-button"),p=document.querySelector(".popup_type_edit"),d=document.forms["edit-profile"],f=d.elements.name,s=d.elements.description,m=document.querySelector(".profile__title"),x=document.querySelector(".profile__description"),_=document.querySelector(".popup_type_image"),b=document.querySelector(".popup__image"),y=document.querySelector(".popup__caption"),v=document.querySelectorAll(".popup__close"),w=document.querySelector(".popup_type_new-card"),D=document.querySelector(".profile__add-button"),q=document.forms["new-place"],h=q.elements["place-name"],k=q.elements.link;function S(e){b.src=e.target.src,b.alt=e.target.alt,y.textContent=e.target.alt,c(_)}function g(e){i(e.target.closest(".popup"))}[{name:"Все",link:"https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Любят",link:"https://images.unsplash.com/photo-1573865526739-10659fec78a5?q=80&w=2030&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Котиков",link:"https://images.unsplash.com/photo-1548802673-380ab8ebc7b7?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Потому что",link:"https://images.unsplash.com/photo-1574231164645-d6f0e8553590?q=80&w=2004&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Они",link:"https://images.unsplash.com/photo-1557246565-8a3d3ab5d7f6?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Милые",link:"https://images.unsplash.com/photo-1589883661923-6476cb0ae9f2?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){!function(e,c){var i=t(e,o,n,S);c.append(i)}(e,u)})),l.addEventListener("click",(function(){f.value=m.textContent,s.value=x.textContent,c(p)})),v.forEach((function(e){e.addEventListener("click",g)})),d.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=f.value,x.textContent=s.value,i(p)})),D.addEventListener("click",(function(){q.reset(),c(w)})),q.addEventListener("submit",(function(e){!function(e){e.preventDefault();var c=t({name:h.value,link:k.value},o,n,S);u.prepend(c),i(w)}(e)}))})();